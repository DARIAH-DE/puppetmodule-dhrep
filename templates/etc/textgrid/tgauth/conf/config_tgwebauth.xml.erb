<?xml version="1.0" encoding="UTF-8"?>

<conf xmlns="http://textgrid.info/namespaces/middleware/tgwebauth">
  <authn type="community">
    <key name="host">auth.dariah.eu</key>
    <key name="port">389</key>
    <key name="binddn">uid=${login},ou=people,dc=dariah,dc=eu</key>
    <key name="basedn">ou=people,dc=dariah,dc=eu</key>
    <key name="filter">(uid=${login})</key>
    <key name="IDattribute">dariahMappedIds;eduPersonPrincipalName</key>
    <key name="name">DARIAH Community Authentication Server</key>
    <key name="setAttributesDN">cn=Manager,dc=dariah,dc=eu</key>
    <!-- Secret is used for updating attributes only! -->
    <key name="setAttributesPW"><%= scope.lookupvar('textgrid::services::tgauth::webauth_dariah_secret') %></key>
  </authn>

  <authz instance="<%= scope.lookupvar('textgrid::services::tgauth::authz_instance') %>">
    <termsOfUse>
      <version>1.0b</version>
      <text>/var/Nutzungsordnung_en_200611.txt.html</text>
    </termsOfUse>
    <rbacbase><%= scope.lookupvar('textgrid::services::tgauth::rbac_base') %></rbacbase>
    <sessioncreator>
      <user>shibconnector@application.int</user>
      <password><%= scope.lookupvar('textgrid::services::tgauth::authz_shib_pw') %></password>
    </sessioncreator>
    <setnamessecret><%= scope.lookupvar('textgrid::services::tgauth::webauth_secret') %></setnamessecret>
  </authz>

</conf>
