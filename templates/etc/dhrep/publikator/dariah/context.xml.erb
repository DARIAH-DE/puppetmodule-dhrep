<?xml version='1.0' encoding='utf-8'?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!-- The contents of this file will be loaded for each web application -->
<Context>

  <!-- Default set of monitored resources -->
  <WatchedResource>WEB-INF/web.xml</WatchedResource>

  <!-- Uncomment this to disable session persistence across Tomcat restarts -->
  <!--
  <Manager pathname="" />
  -->

  <!-- Uncomment this to enable Comet connection tacking (provides events
       on session expiration as well as webapp lifecycle) -->
  <!--
  <Valve className="org.apache.catalina.valves.CometConnectionManagerValve" />
  -->

  <!-- BASIC SETTINGS -->
  <Environment name="instanceName" value="<%= @instance_name %>" type="java.lang.String" override="false" description="Instance name (can be either TEST, PROD, DEVELOP)"/>
  <Environment name="headerColor" value="<%= @header_color %>" type="java.lang.String" override="false" description="Color of menu header, if not PROD instance"/>
  <Environment name="enableAAI" value="<%= @enable_aai %>" type="java.lang.Boolean" override="false" description="Enable AAI"/>
  <Environment name="logoutAAI" value="<%= @logout_aai %>" type="java.lang.String" override="false" description="AAI Logout URL"/>
  <Environment name="subcollectionsEnabled" value="<%= @subcollections_enabled %>" type="java.lang.Boolean" override="false" description="Enable subcollections"/>
  <Environment name="dariahStorageUrl" value="<%= @dariah_storage_url %>" type="java.lang.String" override="false" description="DARIAH-DE OwnStorage URL"/>
  <Environment name="dhpublishUrl" value="<%= @dhpublish_url %>" type="java.lang.String" override="false" description="DH-publish URL"/>
  <Environment name="dhcrudUrl" value="<%= @dhcrud_url %>" type="java.lang.String" override="false" description="DH-crud URL"/>
  <Environment name="collectionRegistryUrl" value="<%= @collection_registry_url %>" type="java.lang.String" override="false" description="Collection Registry URL"/>
  <Environment name="genericSearchUrl" value="<%= @generic_search_url %>" type="java.lang.String" override="false" description="Generic Search URL"/>
  <Environment name="pidServiceUrl" value="<%= @pid_service_url %>" type="java.lang.String" override="false" description="PID Service URL"/>
  <Environment name="pdpTokenServerUrl" value="<%= @pdp_token_server_url %>" type="java.lang.String" override="false" description="PDP Token Server URL"/>
  <Environment name="pdpTokenManagerUrl" value="<%= @pdp_token_manager_url %>" type="java.lang.String" override="false" description="PDP Token Manager URL"/>
  <Environment name="refresh" value="<%= @refresh %>" type="java.lang.Integer" override="false" description="Offset to refresh status info in publishing process"/>
  <Environment name="serviceTimeout" value="<%= @service_timeout %>" type="java.lang.Integer" override="false" description="Default timeout for service calls"/>
  <Environment name="publishSecret" value="<%= @publish_secret %>" type="java.lang.String" override="false" description="Secret for using the DH-publish service"/>
  <Environment name="badgeText" value="<%= @badge_text %>" type="java.lang.String" override="false" description="Text for badge after Publikator's Title"/>
  <Environment name="maxUploadSize" value="<%= @maxuploadsize %>" type="java.lang.Integer" override="false" description="Maximum allowed size in MB for one file for the file upload. Note that nginx conf on cdstar needs to be changed, too."/>

  <!-- SEAFILE SETTINGS -->
  <Environment name="seafileEnabled" value="<%= @seafile_enabled %>" type="java.lang.Boolean" override="false" description="Enable Seafile collections"/>
  <Environment name="seafileUrl" value="<%= @seafile_url %>" type="java.lang.String" override="false" description="Seafile URL"/>
  <Environment name="seafileTokenSecret" value="<%= @seafile_token_secret %>" type="java.lang.String" override="false" description="Secret for decrypting Seafile token"/>

  <!-- DEVELOPER OPTIONS -->
  <Environment name="SSLCertVerification" value="<%= @ssl_cert_verification %>" type="java.lang.Boolean" override="false" description="SSLCertVerification"/>
  <Environment name="skipPublishStatusCheck" value="<%= @skip_publish_status_check %>" type="java.lang.Boolean" override="false" description="Skip publish status check (for GUI debugging)"/>
  <Environment name="dryrun" value="<%= @dryrun %>" type="java.lang.Boolean" override="false" description="Use dryrun instead of real publishing"/>
  <Environment name="debug" value="<%= @debug %>" type="java.lang.Boolean" override="false" description="Debug mode"/>
  <Environment name="overrideEppn" value="<%= @override_eppn %>" type="java.lang.Boolean" override="false" description="Override user's ePPN with that one from below"/>
  <Environment name="eppn" value="<%= @eppn %>" type="java.lang.String" override="false" description="Always publish with this ePPN, overrides user's ePPN"/>
  <Environment name="skipLandingPage" value="<%= @skip_landing_page %>" type="java.lang.Boolean" override="false" description="Skip the display of the landing page which is shown before login"/>

  <!-- DOCUMENTATION -->
  <Environment name="linkToDocumentation" value="<%= @link_to_documentation %>" type="java.lang.String" override="false" description="Link to Documentation"/>
  <Environment name="linkToFAQ" value="<%= @link_to_faq %>" type="java.lang.String" override="false" description="Link to FAQ wiki site"/>
  <Environment name="linkToAPIDoc" value="<%= @link_to_apidoc %>" type="java.lang.String" override="false" description="Link to API documentation"/>
  <Environment name="mailOfContact" value="<%= @mail_of_contact %>" type="java.lang.String" override="false" description="Mail of Contact"/>
  <Environment name="linkToPrivPol" value="<%= @link_to_privpol %>" type="java.lang.String" override="false" description="Link to API Privacy Policy"/>

  <!-- REDIS DB SETTINGS -->
  <Environment name="redisHostname" value="<%= @redis_hostname %>" type="java.lang.String" override="false" description="Redis Server host"/>
  <Environment name="redisPort" value="<%= @redis_port %>" type="java.lang.Integer" override="false" description="Redis Server Port"/>
  <Environment name="redisMaxParallel" value="<%= @redis_max_parallel %>" type="java.lang.Integer" override="false" description="Redis maximum number of connections"/>

  <!-- STATSD reporting SETTINGS -->
  <Environment name="statsdEnable" value="<%= @statsd_enable %>" type="java.lang.Boolean" override="false" description="Enable statsd reporting"/>
  <Environment name="statsdHostname" value="<%= @statsd_hostname %>" type="java.lang.String" override="false" description="Statsd hostname"/>
  <Environment name="statsdPort" value="<%= @statsd_port %>" type="java.lang.Integer" override="false" description="Statsd port"/>

</Context>
